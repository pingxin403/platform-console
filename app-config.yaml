app:
  title: Internal Developer Platform
  baseUrl: http://localhost:3000

organization:
  name: My Company

backend:
  # Used for enabling authentication, secret is shared by all backend plugins
  # See https://backstage.io/docs/auth/service-to-service-auth for
  # information on the format
  auth:
    keys:
      - secret: ${BACKEND_SECRET}
  baseUrl: http://localhost:7007
  listen:
    port: 7007
    # Uncomment the following host directive to bind to specific interfaces
    # host: 127.0.0.1
  csp:
    connect-src: ["'self'", 'http:', 'https:']
    # Content-Security-Policy directives follow the Helmet format: https://helmetjs.github.io/#reference
    # Default Helmet Content-Security-Policy values can be removed by setting the key to false
  cors:
    origin: http://localhost:3000
    methods: [GET, HEAD, PATCH, POST, PUT, DELETE]
    credentials: true
  # PostgreSQL database configuration with connection pooling
  database:
    client: pg
    connection:
      host: ${POSTGRES_HOST}
      port: ${POSTGRES_PORT}
      user: ${POSTGRES_USER}
      password: ${POSTGRES_PASSWORD}
      database: ${POSTGRES_DB}
      ssl: ${POSTGRES_SSL}
    # Connection pool configuration for production
    pool:
      min: 2
      max: 10
      acquireTimeoutMillis: 30000
      createTimeoutMillis: 30000
      destroyTimeoutMillis: 5000
      idleTimeoutMillis: 30000
      reapIntervalMillis: 1000
      createRetryIntervalMillis: 200
  # Health check configuration
  healthcheck:
    enabled: true
    path: /api/catalog/health
  # Logging configuration
  logging:
    level: ${LOG_LEVEL:-info}
    format: json
    redactSecrets: true

# Search configuration for enhanced discovery
search:
  # PostgreSQL search engine configuration
  pg:
    # Enable full-text search
    enabled: true
    # Search result highlighting
    highlightPreTag: '<mark>'
    highlightPostTag: '</mark>'
  # Search indexing configuration
  indexing:
    # Batch size for indexing operations
    batchSize: 1000
    # Index refresh interval
    refreshInterval: 600 # 10 minutes
  # Search result configuration
  results:
    # Maximum results per page
    maxResults: 25
    # Default results per page
    defaultResults: 10
    # Enable search suggestions
    suggestions: true
  # Search collators configuration
  collators:
    # Catalog search collator
    catalog:
      # Enable catalog entity search
      enabled: true
      # Index all entity types
      entityTypes: ['Component', 'API', 'Resource', 'System', 'Domain', 'Location', 'User', 'Group']
      # Search fields
      fields: ['metadata.name', 'metadata.description', 'metadata.tags', 'spec.owner']
    # TechDocs search collator
    techdocs:
      # Enable documentation search
      enabled: true
      # Index all documentation
      indexAll: true
      # Search fields
      fields: ['title', 'text', 'location']
      # Boost recent documents
      recencyBoost: 1.2

integrations:
  github:
    - host: github.com
      # This is a Personal Access Token or PAT from GitHub. You can find out how to generate this token, and more information
      # about setting up the GitHub integration here: https://backstage.io/docs/integrations/github/locations#configuration
      token: ${GITHUB_TOKEN}
    ### Example for how to add your GitHub Enterprise instance using the API:
    # - host: ghe.example.net
    #   apiBaseUrl: https://ghe.example.net/api/v3
    #   token: ${GHE_TOKEN}

proxy:
  ### Example for how to add a proxy endpoint for the frontend.
  ### A typical reason to do this is to handle HTTPS and CORS for internal services.
  # endpoints:
  #   '/test':
  #     target: 'https://example.com'
  #     changeOrigin: true
  
  # Datadog API proxy for secure API calls
  endpoints:
    '/datadog/api':
      target: 'https://api.datadoghq.com'
      changeOrigin: true
      headers:
        DD-API-KEY: ${DATADOG_API_KEY}
        DD-APPLICATION-KEY: ${DATADOG_APP_KEY}
    
    # Sentry API proxy for secure API calls
    '/sentry/api':
      target: 'https://sentry.io/api/0'
      changeOrigin: true
      headers:
        Authorization: 'Bearer ${SENTRY_TOKEN}'
    
    # Prometheus API proxy for secure API calls
    '/prometheus/api':
      target: ${PROMETHEUS_URL}
      changeOrigin: true
      # headers:
      #   Authorization: 'Basic ${PROMETHEUS_AUTH_TOKEN}'
    
    # Grafana API proxy for secure API calls
    '/grafana/api':
      target: ${GRAFANA_URL}
      changeOrigin: true
      headers:
        Authorization: 'Bearer ${GRAFANA_TOKEN}'
    
    # GitHub API proxy for CI/CD statistics
    '/github':
      target: 'https://api.github.com'
      changeOrigin: true
      headers:
        Authorization: 'token ${GITHUB_TOKEN}'
        Accept: 'application/vnd.github.v3+json'
    
    # Jaeger API proxy for distributed tracing
    '/jaeger/api':
      target: ${JAEGER_URL:-http://localhost:16686}
      changeOrigin: true
      # Optional authentication headers
      # headers:
      #   Authorization: 'Basic ${JAEGER_AUTH_TOKEN}'
    
    # Vault API proxy for secrets management
    '/vault/api':
      target: ${VAULT_URL:-http://localhost:8200}
      changeOrigin: true
      headers:
        X-Vault-Token: ${VAULT_TOKEN}
    
    # Nexus Repository Manager API proxy for artifact management
    '/nexus/api':
      target: ${NEXUS_URL:-http://localhost:8081}
      changeOrigin: true
      headers:
        Authorization: 'Basic ${NEXUS_AUTH_TOKEN}'
    
    # Argo CD API proxy for GitOps cluster management
    '/argocd/api':
      target: ${ARGOCD_API_URL}
      changeOrigin: true
      headers:
        Authorization: 'Bearer ${ARGOCD_TOKEN}'
    
    # Kiali API proxy for service mesh observability
    '/kiali/api':
      target: ${KIALI_URL:-http://localhost:20001}
      changeOrigin: true
      headers:
        Authorization: 'Basic ${KIALI_AUTH_TOKEN}'
    
    # OpenCost API proxy for Kubernetes cost data
    '/opencost':
      target: ${OPENCOST_URL:-http://opencost-svc.opencost:9003}
      changeOrigin: true
      # Optional authentication headers if OpenCost requires them
      # headers:
      #   Authorization: 'Bearer ${OPENCOST_TOKEN}'
    
    # OpsLevel API proxy for service maturity tracking
    '/opslevel/api':
      target: ${OPSLEVEL_BASE_URL:-https://app.opslevel.com}
      changeOrigin: true
      headers:
        Authorization: 'Bearer ${OPSLEVEL_API_TOKEN}'

# Datadog configuration for dashboard embedding
datadog:
  # Datadog API configuration
  api:
    baseUrl: 'https://api.datadoghq.com'
    apiKey: ${DATADOG_API_KEY}
    appKey: ${DATADOG_APP_KEY}
  # Dashboard configuration
  dashboard:
    # Base URL for dashboard embedding
    baseUrl: 'https://app.datadoghq.com'
    # Default time range for dashboards
    timeRange: '1h'
    # Enable secure iframe embedding
    secureEmbedding: true

# Sentry configuration for error tracking
sentry:
  organization: ${SENTRY_ORG}
  # Sentry API configuration
  api:
    baseUrl: 'https://sentry.io/api/0'
    token: ${SENTRY_TOKEN}

# Security Insights configuration
securityInsights:
  # GitHub integration for vulnerability scanning
  github:
    token: ${GITHUB_TOKEN}
  # Dependabot configuration
  dependabot:
    enabled: true
    # Alert filtering
    severityLevels: ['critical', 'high', 'medium']

# Prometheus configuration for metrics
prometheus:
  # Prometheus server configuration
  api:
    baseUrl: ${PROMETHEUS_URL}
    # Optional authentication
    # username: ${PROMETHEUS_USERNAME}
    # password: ${PROMETHEUS_PASSWORD}
  # Default query configuration
  queries:
    # Default time range for queries
    defaultTimeRange: '1h'
    # Default step for range queries
    defaultStep: '15s'

# Grafana configuration for dashboards
grafana:
  # Grafana server configuration
  api:
    baseUrl: ${GRAFANA_URL}
    # Authentication token
    token: ${GRAFANA_TOKEN}
  # Dashboard configuration
  dashboard:
    # Default time range for dashboards
    defaultTimeRange: '1h'
    # Enable dashboard embedding
    enableEmbedding: true

# Lighthouse configuration for performance monitoring
lighthouse:
  # Lighthouse audit service configuration
  baseUrl: ${LIGHTHOUSE_AUDIT_SERVICE_URL:-http://localhost:3003}
  # Optional authentication
  # token: ${LIGHTHOUSE_TOKEN}

# GitHub Actions configuration for CI/CD visibility
githubActions:
  # GitHub integration for workflow visibility
  github:
    token: ${GITHUB_TOKEN}
  # Workflow configuration
  workflows:
    # Enable workflow run display and re-trigger capabilities
    enableRerun: true
    # Show workflow history
    showHistory: true
    # Default number of workflow runs to display
    defaultLimit: 25

# GitHub Pull Requests configuration for PR management
githubPullRequests:
  # GitHub integration for PR visibility
  github:
    token: ${GITHUB_TOKEN}
  # Pull request configuration
  pullRequests:
    # Show PR status and team collaboration features
    showStatus: true
    # Enable PR metrics and review workflow integration
    showMetrics: true
    # Default number of PRs to display
    defaultLimit: 10

# CI/CD Statistics configuration for build analytics
cicdStatistics:
  # GitHub Actions integration for build performance tracking
  github:
    token: ${GITHUB_TOKEN}
  # Build analytics configuration
  builds:
    # Show build duration and success rate metrics
    showMetrics: true
    # Enable trend analysis and performance benchmarking
    showTrends: true
    # Default number of builds to display
    defaultLimit: 50
    # Time range for analytics (in days)
    defaultTimeRange: 30

# GitHub Insights configuration for release tracking and repository analytics
githubInsights:
  # GitHub integration for repository analytics
  github:
    token: ${GITHUB_TOKEN}
  # Repository insights configuration
  insights:
    # Show release tracking and changelog generation
    showReleases: true
    # Show repository activity and contributor insights
    showActivity: true
    # Show code quality metrics
    showLanguages: true
    # Default number of releases to display
    defaultReleaseLimit: 10

# Jaeger configuration for distributed tracing
jaeger:
  # Jaeger server configuration
  api:
    baseUrl: ${JAEGER_URL:-http://localhost:16686}
    # Optional authentication
    # username: ${JAEGER_USERNAME}
    # password: ${JAEGER_PASSWORD}
  # Tracing configuration
  tracing:
    # Default time range for traces
    defaultTimeRange: '1h'
    # Default limit for trace queries
    defaultLimit: 20
    # Enable trace visualization and service dependency mapping
    enableVisualization: true

# Vault configuration for secrets management
vault:
  # Vault server configuration
  api:
    baseUrl: ${VAULT_URL:-http://localhost:8200}
    # Vault authentication token
    token: ${VAULT_TOKEN}
  # Secrets configuration
  secrets:
    # Default mount path for secrets
    defaultMountPath: 'secret'
    # Enable secret access and rotation status display
    showRotationStatus: true
    # Integration with AWS Secrets Manager workflow
    awsSecretsManager:
      enabled: ${VAULT_AWS_INTEGRATION:-false}
      region: ${AWS_REGION:-us-east-1}

# Nexus Repository Manager configuration for artifact management
nexusRepositoryManager:
  # Nexus server configuration
  api:
    baseUrl: ${NEXUS_URL:-http://localhost:8081}
    # Nexus authentication
    username: ${NEXUS_USERNAME}
    password: ${NEXUS_PASSWORD}
  # Artifact management configuration
  artifacts:
    # Enable artifact version tracking and dependency management
    showVersions: true
    # Show build artifact visibility
    showArtifacts: true
    # Default number of artifacts to display
    defaultLimit: 20
    # Integration with existing Nexus instance
    repositories:
      - name: 'maven-public'
        type: 'maven2'
      - name: 'npm-public'
        type: 'npm'
      - name: 'docker-public'
        type: 'docker'

# Terraform configuration for infrastructure as code visibility
terraform:
  # Terraform Cloud/Enterprise API configuration
  apiBaseUrl: ${TERRAFORM_API_BASE_URL:-https://app.terraform.io}
  token:
    $env: TERRAFORM_TOKEN
  # Terraform workspace configuration
  workspaces:
    # Default workspace for infrastructure
    default: 'production'
    # Available workspaces
    available: ['development', 'staging', 'production']
  # Integration with AWS EKS and infrastructure workflows
  integration:
    aws:
      enabled: true
      region: ${AWS_REGION:-us-east-1}
    kubernetes:
      enabled: true
      cluster: ${K8S_CLUSTER_NAME:-production}

# GitOps Profiles configuration for multi-cluster management
gitopsProfiles:
  # GitOps API backend URL
  apiBaseUrl: ${GITOPS_API_BASE_URL:-http://localhost:3008}
  # Multi-cluster deployment configuration
  clusters:
    # Production cluster configuration
    production:
      name: 'production'
      url: ${K8S_CLUSTER_URL}
      region: ${AWS_REGION:-us-east-1}
    # Staging cluster configuration
    staging:
      name: 'staging'
      url: ${K8S_STAGING_CLUSTER_URL}
      region: ${AWS_REGION:-us-east-1}
    # Development cluster configuration
    development:
      name: 'development'
      url: ${K8S_DEV_CLUSTER_URL}
      region: ${AWS_REGION:-us-east-1}

# Argo CD configuration for GitOps deployment management
argocd:
  # Argo CD server configuration
  api:
    baseUrl: ${ARGOCD_API_URL}
    # Authentication token
    token: ${ARGOCD_TOKEN}
  # Application configuration
  applications:
    # Enable multi-cluster deployment status and health monitoring
    showHealth: true
    # Show cluster resource utilization and capacity planning
    showResources: true
    # Default number of applications to display
    defaultLimit: 50
  # Cluster configuration
  clusters:
    # Enable multi-environment support
    multiEnvironment: true
    # Default environments
    environments: ['development', 'staging', 'production']

# Kiali configuration for service mesh observability
kiali:
  # Kiali server configuration
  api:
    baseUrl: ${KIALI_URL:-http://localhost:20001}
    # Optional authentication
    username: ${KIALI_USERNAME}
    password: ${KIALI_PASSWORD}
    # Or use token-based authentication
    # token: ${KIALI_TOKEN}
  # Service mesh configuration
  serviceMesh:
    # Enable service topology and traffic flow monitoring
    showTopology: true
    # Enable distributed tracing and performance analysis
    showTracing: true
    # Integration with Istio service mesh
    istio:
      enabled: true
      namespace: 'istio-system'
    # Metrics configuration
    metrics:
      # Default time range for metrics
      defaultTimeRange: '1h'
      # Enable performance bottleneck identification
      showPerformance: true

# Kubelog configuration for Kubernetes log viewing
kubelog:
  # Kubelog backend configuration
  backend:
    # Enable centralized log access
    enabled: true
    # Log streaming and search configuration
    streaming:
      enabled: true
      # Real-time log monitoring capabilities
      realTime: true
    # Log filtering configuration
    filtering:
      enabled: true
      # Default log level filter
      defaultLevel: 'info'
  # Kubernetes cluster configuration for log access
  clusters:
    # Production cluster logs
    production:
      name: 'production'
      # Kwirth service URL for log access
      kwirthUrl: ${KWIRTH_PRODUCTION_URL}
      # Authentication for log access
      token: ${K8S_SERVICE_ACCOUNT_TOKEN}
    # Staging cluster logs
    staging:
      name: 'staging'
      kwirthUrl: ${KWIRTH_STAGING_URL}
      token: ${K8S_STAGING_SERVICE_ACCOUNT_TOKEN}
    # Development cluster logs
    development:
      name: 'development'
      kwirthUrl: ${KWIRTH_DEV_URL}
      token: ${K8S_DEV_SERVICE_ACCOUNT_TOKEN}

# Jenkins configuration for CI/CD integration (optional)
jenkins:
  # Jenkins server configuration
  instances:
    - name: default
      baseUrl: ${JENKINS_BASE_URL:-http://localhost:8080}
      username: ${JENKINS_USERNAME}
      apiKey: ${JENKINS_API_KEY}
  # Build configuration
  builds:
    # Show build pipeline visibility and control
    showPipelines: true
    # Show build history display
    showHistory: true
    # Default number of builds to display
    defaultLimit: 25

# DevTools plugin configuration for diagnostics
devtools:
  # System health monitoring and configuration visibility
  monitoring:
    # Enable system health monitoring
    enabled: true
    # Show OS, Node/Backstage and package versions
    versions: true
    # Show live config with secret masking
    config: true
    # Enable secret masking for security
    secretMasking: true
  # Dependency checking and troubleshooting tools
  dependencies:
    # Enable external dependency checks
    enabled: true
    # Check database connectivity
    database: true
    # Check external service connectivity
    externalServices: true
    # Timeout for dependency checks (ms)
    timeout: 5000
  # Runtime diagnostics
  diagnostics:
    # Enable runtime diagnostics
    enabled: true
    # Show memory usage
    memory: true
    # Show CPU usage
    cpu: true
    # Show uptime information
    uptime: true

# Toolbox plugin configuration for developer utilities
toolbox:
  # Developer utility tools configuration
  tools:
    # Enable converters and validators
    converters: true
    validators: true
    # Enable JWT decoding utility
    jwt: true
    # Enable QR code generation
    qrCode: true
    # Enable barcode generation
    barcode: true
    # Enable other common development tools
    utilities: true
  # Favorites and personalization
  favorites:
    # Enable favorites functionality
    enabled: true
    # Allow users to customize tool order
    customOrder: true
  # Internationalization support
  i18n:
    # Enable internationalization
    enabled: true
    # Default language
    defaultLanguage: 'en'

# TODO plugin configuration for code quality tracking
todo:
  # TODO/FIXME comment aggregation and reporting
  aggregation:
    # Enable TODO comment scanning
    enabled: true
    # Supported comment types
    commentTypes: ['TODO', 'FIXME', 'HACK', 'BUG', 'NOTE']
    # File extensions to scan
    fileExtensions: ['.ts', '.tsx', '.js', '.jsx', '.py', '.java', '.go', '.rs', '.cpp', '.c', '.h']
  # Code quality metrics and improvement tracking
  metrics:
    # Enable code quality tracking
    enabled: true
    # Track TODO density per file
    density: true
    # Track TODO age (days since creation)
    age: true
    # Track TODO priority based on comment type
    priority: true
  # Integration with version control
  vcs:
    # Enable Git integration for TODO tracking
    git: true
    # Track TODO author information
    authors: true
    # Track TODO creation date
    creationDate: true

# gRPC Playground configuration for service testing and exploration
grpcPlayground:
  # gRPC service discovery and testing capabilities
  discovery:
    # Enable automatic gRPC service discovery
    enabled: true
    # Support for different gRPC service types
    supportedTypes: ['grpc', 'grpc-web']
  # Protocol buffer documentation and testing
  protobuf:
    # Enable protocol buffer documentation
    documentation: true
    # Support for proto file imports
    imports: true
    # Default proto file location
    defaultPath: '/proto'
  # gRPC testing capabilities
  testing:
    # Enable gRPC service testing interface
    enabled: true
    # Support for TLS connections
    tls: true
    # Default testing environment
    defaultEnvironment: 'development'
    # Request timeout in milliseconds
    timeout: 30000

# API Documentation configuration for OpenAPI, AsyncAPI, and GraphQL
apiDocs:
  # Enable automatic API documentation generation and display
  generator:
    # Support for OpenAPI specifications
    openapi:
      enabled: true
      # Automatic generation from code annotations
      autoGenerate: true
      # Default OpenAPI version
      version: '3.0.0'
    # Support for AsyncAPI specifications
    asyncapi:
      enabled: true
      # Automatic generation from message schemas
      autoGenerate: true
      # Default AsyncAPI version
      version: '2.6.0'
    # Support for GraphQL schemas
    graphql:
      enabled: true
      # Automatic schema introspection
      autoIntrospect: true
      # GraphQL playground integration
      playground: true
  # API testing and exploration capabilities
  testing:
    # Enable API testing interface
    enabled: true
    # Support for different API types
    supportedTypes: ['openapi', 'asyncapi', 'graphql']
    # Default testing environment
    defaultEnvironment: 'development'
  # API documentation display settings
  display:
    # Show API examples and schemas
    showExamples: true
    # Show API authentication requirements
    showAuth: true
    # Show API rate limits and usage
    showLimits: true
    # Enable interactive API explorer
    interactiveExplorer: true
  # SDK generation configuration for automated SDK generation
  sdkGeneration:
    # Enable SDK generation from OpenAPI specifications
    enabled: true
    # Supported programming languages for SDK generation
    supportedLanguages: ['java', 'go', 'typescript', 'javascript', 'python']
    # SDK generation templates
    templates:
      java: 'openapi-generator-java'
      go: 'openapi-generator-go'
      typescript: 'openapi-generator-typescript'
      javascript: 'openapi-generator-javascript'
      python: 'openapi-generator-python'
    # SDK publishing and distribution workflows
    publishing:
      # Enable automatic SDK publishing
      enabled: true
      # Publishing targets
      targets: ['npm', 'maven', 'go-modules', 'pypi']
      # Versioning strategy
      versioning: 'semantic'
    # SDK documentation generation
    documentation:
      # Generate SDK documentation
      enabled: true
      # Documentation formats
      formats: ['markdown', 'html']
      # Include code examples
      examples: true

# TechDocs configuration with S3 storage and MkDocs
# Production-ready setup with automatic documentation generation and S3 publishing
# https://backstage.io/docs/features/techdocs/how-to-guides#how-to-migrate-from-techdocs-basic-to-recommended-deployment-approach
techdocs:
  # Use external builder for production (CI/CD generates docs)
  builder: 'external' # Alternatives - 'local'
  generator:
    # Run MkDocs in Docker for consistent builds
    runIn: 'docker' # Alternatives - 'local'
    # MkDocs configuration
    mkdocs:
      # Default MkDocs configuration
      defaultPlugins: ['search', 'mkdocs-techdocs-core']
      # Additional plugins for enhanced documentation
      additionalPlugins: ['mermaid2', 'plantuml-markdown']
  publisher:
    # Use AWS S3 for production storage
    type: 'awsS3' # Alternatives - 'local', 'googleGcs'
    # S3 configuration
    awsS3:
      # S3 bucket for TechDocs storage
      bucketName: ${TECHDOCS_S3_BUCKET_NAME}
      # AWS region
      region: ${AWS_REGION:-us-east-1}
      # S3 bucket path prefix
      bucketRootPath: 'techdocs'
      # Enable server-side encryption
      sse: 'AES256'
      # Optional: Custom endpoint for S3-compatible storage
      # endpoint: ${S3_ENDPOINT}
      # Optional: Force path style for S3-compatible storage
      # forcePathStyle: true
      # Optional: Custom credentials (uses AWS SDK default chain if not specified)
      # credentials:
      #   accessKeyId: ${AWS_ACCESS_KEY_ID}
      #   secretAccessKey: ${AWS_SECRET_ACCESS_KEY}
  # Cache configuration for better performance
  cache:
    # Enable caching
    enabled: true
    # Cache TTL in seconds (1 hour)
    ttl: 3600
    # Cache size limit in MB
    sizeLimit: 1000
  # Documentation rebuild triggers and timing
  rebuild:
    # Enable automatic rebuilds
    enabled: true
    # Rebuild triggers
    triggers:
      # Rebuild on catalog entity changes
      catalogEntityChange: true
      # Rebuild on repository changes (webhook)
      repositoryChange: true
      # Rebuild on schedule
      schedule:
        # Rebuild frequency (daily at 2 AM)
        frequency: { hours: 24 }
        # Initial delay before first rebuild
        initialDelay: { minutes: 5 }
    # Rebuild timeout in minutes
    timeout: 30
  # Search integration configuration
  search:
    # Enable TechDocs search indexing
    enabled: true
    # Search index update frequency
    indexUpdateFrequency: { minutes: 10 }
    # Search result ranking
    ranking:
      # Boost recent documents
      recencyBoost: 1.2
      # Boost documents with more views
      popularityBoost: 1.1

auth:
  # see https://backstage.io/docs/auth/ to learn about auth providers
  providers:
    # GitHub OAuth provider
    github:
      development:
        clientId: ${AUTH_GITHUB_CLIENT_ID}
        clientSecret: ${AUTH_GITHUB_CLIENT_SECRET}
    # See https://backstage.io/docs/auth/guest/provider
    guest: {}

scaffolder:
  # see https://backstage.io/docs/features/software-templates/configuration for software template options
  # Enhanced scaffolder actions configuration
  actions:
    # Roadie utils actions configuration
    roadiehq:
      utils:
        # GitHub integration for enhanced actions
        github:
          token: ${GITHUB_TOKEN}
        # File system operations
        fs:
          # Enable file replacement operations
          enableReplace: true

catalog:
  import:
    entityFilename: catalog-info.yaml
    pullRequestBranchName: backstage-integration
  rules:
    - allow: [Component, System, API, Resource, Location]
  # Enable Terraform provider integration - not read-only
  readonly: false
  # Optimized catalog processing with deferred stitching
  processing:
    cache:
      ttl: 300 # 5 minutes cache for better performance
    stitching:
      strategy: deferred # Defer stitching for better performance
  providers:
    github:
      # GitHub organization discovery with optimized settings
      organization:
        organization: ${GITHUB_ORG} # GitHub organization name
        catalogPath: '/catalog-info.yaml' # path to catalog-info.yaml files
        filters:
          branch: 'main' # default branch to scan
          repository: '.*' # regex to match repository names
        schedule: # optimized discovery schedule
          frequency: { minutes: 30 }
          timeout: { minutes: 3 }
          initialDelay: { seconds: 15 }
  locations:
    # Local example data, file locations are relative to the backend process, typically `packages/backend`
    - type: file
      target: ../../examples/entities.yaml

    # Local example template
    - type: file
      target: ../../examples/template/template.yaml
      rules:
        - allow: [Template]

    # Local example organizational data
    - type: file
      target: ../../examples/org.yaml
      rules:
        - allow: [User, Group]

    ## Uncomment these lines to add more example data
    # - type: url
    #   target: https://github.com/backstage/backstage/blob/master/packages/catalog-model/examples/all.yaml

    ## Uncomment these lines to add an example org
    # - type: url
    #   target: https://github.com/backstage/backstage/blob/master/packages/catalog-model/examples/acme-corp.yaml
    #   rules:
    #     - allow: [User, Group]

kubernetes:
  # see https://backstage.io/docs/features/kubernetes/configuration for kubernetes configuration options
  serviceLocatorMethod:
    type: 'multiTenant'
  clusterLocatorMethods:
    - type: 'config'
      clusters:
        - url: ${K8S_CLUSTER_URL}
          name: ${K8S_CLUSTER_NAME:-production}
          authProvider: 'serviceAccount'
          serviceAccountToken: ${K8S_SERVICE_ACCOUNT_TOKEN}
          skipTLSVerify: ${K8S_SKIP_TLS_VERIFY:-false}
          skipMetricsLookup: false
          # Custom resources for topology visualization
          customResources:
            - group: 'route.openshift.io'
              apiVersion: 'v1'
              plural: 'routes'
            - group: 'tekton.dev'
              apiVersion: 'v1beta1'
              plural: 'pipelineruns'
            - group: 'kubevirt.io'
              apiVersion: 'v1'
              plural: 'virtualmachines'
            - group: 'argoproj.io'
              apiVersion: 'v1alpha1'
              plural: 'applications'

# see https://backstage.io/docs/permissions/getting-started for more on the permission framework
permission:
  # setting this to `false` will disable permissions
  enabled: true

# Tech Radar configuration for technology tracking
techRadar:
  # Technology adoption visualization configuration
  visualization:
    # Enable quadrants, rings, and entry timelines for tech stack
    quadrants:
      - name: 'Languages & Frameworks'
        id: 'languages-frameworks'
      - name: 'Tools'
        id: 'tools'
      - name: 'Platforms'
        id: 'platforms'
      - name: 'Techniques'
        id: 'techniques'
    # Technology adoption rings
    rings:
      - name: 'Adopt'
        id: 'adopt'
        color: '#5ba300'
      - name: 'Trial'
        id: 'trial'
        color: '#009eb0'
      - name: 'Assess'
        id: 'assess'
        color: '#c7ba00'
      - name: 'Hold'
        id: 'hold'
        color: '#e09b96'
  # Team technology decision tracking and communication
  tracking:
    # Enable team technology decision tracking
    enabled: true
    # Show entry timelines
    showTimelines: true
    # Show technology descriptions and rationale
    showDescriptions: true
    # Enable technology change notifications
    notifications: true
  # Data source configuration
  data:
    # Tech radar data source (can be 'static', 'github', or 'api')
    source: 'static'
    # Static data configuration
    static:
      # Default tech radar entries
      entries:
        - name: 'React'
          quadrant: 'languages-frameworks'
          ring: 'adopt'
          moved: 0
          description: 'JavaScript library for building user interfaces'
        - name: 'TypeScript'
          quadrant: 'languages-frameworks'
          ring: 'adopt'
          moved: 0
          description: 'Typed superset of JavaScript'
        - name: 'Backstage'
          quadrant: 'platforms'
          ring: 'adopt'
          moved: 1
          description: 'Open platform for building developer portals'
        - name: 'Kubernetes'
          quadrant: 'platforms'
          ring: 'adopt'
          moved: 0
          description: 'Container orchestration platform'
        - name: 'Docker'
          quadrant: 'tools'
          ring: 'adopt'
          moved: 0
          description: 'Containerization platform'
        - name: 'GitHub Actions'
          quadrant: 'tools'
          ring: 'adopt'
          moved: 0
          description: 'CI/CD platform integrated with GitHub'
        - name: 'Argo CD'
          quadrant: 'tools'
          ring: 'adopt'
          moved: 1
          description: 'GitOps continuous delivery tool for Kubernetes'
        - name: 'Datadog'
          quadrant: 'tools'
          ring: 'adopt'
          moved: 0
          description: 'Monitoring and analytics platform'
        - name: 'Microservices'
          quadrant: 'techniques'
          ring: 'adopt'
          moved: 0
          description: 'Architectural approach for building distributed systems'
        - name: 'Infrastructure as Code'
          quadrant: 'techniques'
          ring: 'adopt'
          moved: 0
          description: 'Managing infrastructure through code'
        - name: 'GraphQL'
          quadrant: 'languages-frameworks'
          ring: 'trial'
          moved: 1
          description: 'Query language and runtime for APIs'
        - name: 'Istio'
          quadrant: 'platforms'
          ring: 'assess'
          moved: 0
          description: 'Service mesh platform'
        - name: 'WebAssembly'
          quadrant: 'languages-frameworks'
          ring: 'assess'
          moved: 0
          description: 'Binary instruction format for web applications'
    # GitHub data source configuration (alternative to static)
    github:
      # Repository containing tech radar data
      repository: '${GITHUB_ORG}/tech-radar'
      # Path to tech radar data file
      path: 'radar.json'
      # Branch to read from
      branch: 'main'
    # API data source configuration (alternative to static)
    api:
      # API endpoint for tech radar data
      endpoint: '${TECH_RADAR_API_URL}'
      # Authentication headers
      headers:
        Authorization: 'Bearer ${TECH_RADAR_API_TOKEN}'

# S3 Viewer configuration for AWS S3 bucket and object viewing
s3Viewer:
  # S3 connections configuration
  connections:
    # Production S3 buckets
    - name: 'production-assets'
      endpoint: 'https://s3.amazonaws.com'
      region: '${AWS_REGION:-us-east-1}'
      buckets:
        - name: '${S3_ASSETS_BUCKET:-company-assets-prod}'
          prefix: 'assets/'
        - name: '${S3_LOGS_BUCKET:-company-logs-prod}'
          prefix: 'logs/'
    # Staging S3 buckets
    - name: 'staging-assets'
      endpoint: 'https://s3.amazonaws.com'
      region: '${AWS_REGION:-us-east-1}'
      buckets:
        - name: '${S3_ASSETS_BUCKET_STAGING:-company-assets-staging}'
          prefix: 'assets/'
        - name: '${S3_LOGS_BUCKET_STAGING:-company-logs-staging}'
          prefix: 'logs/'
    # Development S3 buckets
    - name: 'development-assets'
      endpoint: 'https://s3.amazonaws.com'
      region: '${AWS_REGION:-us-east-1}'
      buckets:
        - name: '${S3_ASSETS_BUCKET_DEV:-company-assets-dev}'
          prefix: 'assets/'
  # Authentication configuration
  auth:
    # Use AWS SDK default credential chain
    useDefaultCredentials: true
    # Optional: Custom credentials
    # accessKeyId: ${AWS_ACCESS_KEY_ID}
    # secretAccessKey: ${AWS_SECRET_ACCESS_KEY}
    # sessionToken: ${AWS_SESSION_TOKEN}
  # UI configuration
  ui:
    # Enable object preview for images and text files
    enablePreview: true
    # Enable object download
    enableDownload: true
    # Maximum file size for preview (in bytes)
    maxPreviewSize: 10485760 # 10MB
    # Supported preview file types
    previewTypes: ['jpg', 'jpeg', 'png', 'gif', 'svg', 'txt', 'md', 'json', 'yaml', 'yml']
  # Permissions configuration
  permissions:
    # Enable bucket listing
    allowListing: true
    # Enable object download
    allowDownload: true
    # Enable object preview
    allowPreview: true

# OpenCost configuration for Kubernetes cost visibility
opencost:
  # OpenCost API configuration using Backstage proxy
  baseUrl: http://localhost:7007/api/proxy/opencost
  # Alternative: Direct access if OpenCost API is reachable from browser
  # baseUrl: ${OPENCOST_URL:-http://localhost:9003}
  
  # Cost data configuration
  costs:
    # Default time range for cost queries
    defaultTimeRange: '7d'
    # Supported time ranges
    timeRanges: ['1d', '7d', '30d', '90d']
    # Currency configuration
    currency: 'USD'
    # Cost aggregation settings
    aggregation:
      # Default aggregation level
      default: 'namespace'
      # Available aggregation levels
      levels: ['cluster', 'namespace', 'deployment', 'service', 'pod']
  
  # Cost trend analysis configuration
  trends:
    # Enable cost trend analysis
    enabled: true
    # Threshold for highlighting significant changes (percentage)
    significantChangeThreshold: 15
    # Comparison periods for trend analysis
    comparisonPeriods: ['1d', '7d', '30d']
  
  # Cost benchmarking configuration
  benchmarking:
    # Enable cost benchmarking across similar services
    enabled: true
    # Service similarity criteria
    similarityFactors: ['cpu_requests', 'memory_requests', 'replicas']
    # Benchmarking categories
    categories: ['microservice', 'api', 'frontend', 'database', 'worker']
  
  # AWS cost correlation configuration
  aws:
    # Enable AWS cost correlation
    enabled: ${OPENCOST_AWS_INTEGRATION:-false}
    # AWS cost allocation tags for correlation
    costAllocationTags:
      - 'service'
      - 'environment' 
      - 'team'
      - 'cost-center'
    # AWS Cost Explorer integration
    costExplorer:
      # Enable Cost Explorer integration
      enabled: ${AWS_COST_EXPLORER_ENABLED:-false}
      # AWS region for Cost Explorer API
      region: ${AWS_REGION:-us-east-1}
      # Cost Explorer query configuration
      queries:
        # Default granularity for cost queries
        granularity: 'DAILY'
        # Default metrics to retrieve
        metrics: ['BlendedCost', 'UnblendedCost', 'UsageQuantity']
  
  # Data freshness and update configuration
  data:
    # Cost data update frequency
    updateFrequency: 'daily'
    # Data retention period
    retentionPeriod: '90d'
    # Enable real-time cost updates
    realTimeUpdates: false
    # Data freshness requirements
    freshness:
      # Maximum age for cost data to be considered fresh
      maxAge: '24h'
      # Show data freshness indicators in UI
      showIndicators: true
  
  # UI configuration
  ui:
    # Enable monthly cost breakdowns
    monthlyBreakdowns: true
    # Show cost breakdown by resource type (CPU, memory, storage)
    resourceBreakdowns: true
    # Enable cost optimization recommendations
    optimizationRecommendations: true
    # Default chart type for cost visualization
    defaultChartType: 'line'
    # Available chart types
    chartTypes: ['line', 'bar', 'pie', 'area']
    # Color scheme for cost visualization
    colorScheme: 'default'

# RAG AI configuration for AI-powered assistance
ragAi:
  # AI model configuration
  model:
    # Default AI model provider
    provider: 'openai'
    # Model configuration
    openai:
      # OpenAI API configuration
      apiKey: ${OPENAI_API_KEY}
      # Default model for text generation
      model: 'gpt-4'
      # Model parameters
      temperature: 0.7
      maxTokens: 2048
      # API base URL (optional, for custom endpoints)
      # baseUrl: ${OPENAI_BASE_URL}
    # Alternative: AWS Bedrock configuration
    bedrock:
      # AWS region for Bedrock
      region: ${AWS_REGION:-us-east-1}
      # Bedrock model ID
      modelId: 'anthropic.claude-3-sonnet-20240229-v1:0'
      # AWS credentials (uses default chain if not specified)
      # accessKeyId: ${AWS_ACCESS_KEY_ID}
      # secretAccessKey: ${AWS_SECRET_ACCESS_KEY}
  
  # Embeddings configuration for RAG
  embeddings:
    # Embeddings provider
    provider: 'openai'
    # OpenAI embeddings configuration
    openai:
      # OpenAI API key for embeddings
      apiKey: ${OPENAI_API_KEY}
      # Embeddings model
      model: 'text-embedding-ada-002'
      # Batch size for embedding generation
      batchSize: 100
    # Alternative: AWS Bedrock embeddings
    bedrock:
      # AWS region for Bedrock embeddings
      region: ${AWS_REGION:-us-east-1}
      # Bedrock embeddings model ID
      modelId: 'amazon.titan-embed-text-v1'
  
  # Vector storage configuration
  storage:
    # Use PostgreSQL with pgVector extension
    type: 'pgvector'
    # PostgreSQL configuration (uses main database connection)
    pgvector:
      # Vector dimension (must match embeddings model)
      dimension: 1536
      # Distance metric for similarity search
      distanceMetric: 'cosine'
      # Index configuration
      index:
        # Index type for vector search
        type: 'ivfflat'
        # Number of lists for IVF index
        lists: 100
  
  # Data ingestion configuration
  ingestion:
    # Enable automatic ingestion from catalog
    catalog:
      enabled: true
      # Entity types to ingest
      entityTypes: ['Component', 'API', 'Resource', 'System']
      # Fields to include in embeddings
      fields: ['metadata.description', 'spec.description', 'metadata.tags']
    # Enable TechDocs ingestion
    techdocs:
      enabled: true
      # Chunk size for document splitting
      chunkSize: 1000
      # Chunk overlap for better context
      chunkOverlap: 200
      # File types to ingest
      fileTypes: ['md', 'mdx']
    # Enable code ingestion
    code:
      enabled: false
      # Code repositories to ingest (optional)
      repositories: []
      # File extensions to include
      extensions: ['.ts', '.tsx', '.js', '.jsx', '.py', '.java', '.go']
      # Maximum file size to ingest (bytes)
      maxFileSize: 100000
  
  # Query configuration
  query:
    # Default number of context documents to retrieve
    contextSize: 5
    # Similarity threshold for context retrieval
    similarityThreshold: 0.7
    # Maximum context length (tokens)
    maxContextLength: 4000
    # Enable query rewriting for better results
    queryRewriting: true
  
  # Prompt templates configuration
  prompts:
    # System prompt template
    system: |
      You are an AI assistant for an Internal Developer Platform built on Backstage.
      You have access to information about services, APIs, documentation, and development practices.
      Provide helpful, accurate, and contextual responses based on the provided context.
      If you don't have enough information to answer a question, say so clearly.
    
    # User query template with context
    userWithContext: |
      Context information:
      {context}
      
      Question: {question}
      
      Please provide a helpful answer based on the context above. If the context doesn't contain relevant information, please say so.
    
    # User query template without context
    userWithoutContext: |
      Question: {question}
      
      Please provide a helpful answer based on your knowledge of software development and DevOps practices.
  
  # Security and filtering configuration
  security:
    # Enable content filtering for sensitive information
    contentFiltering: true
    # Patterns to filter from responses
    filterPatterns:
      - 'AKIA[0-9A-Z]{16}'  # AWS Access Keys
      - 'sk-[a-zA-Z0-9]{48}' # OpenAI API Keys
      - '(?i)(password|secret|token|key)\s*[:=]\s*[^\s]+'
    # Enable audit logging for AI interactions
    auditLogging: true
    # Maximum query length
    maxQueryLength: 1000
  
  # Performance configuration
  performance:
    # Cache configuration for AI responses
    cache:
      enabled: true
      # Cache TTL in seconds (1 hour)
      ttl: 3600
      # Maximum cache size (number of entries)
      maxSize: 1000
    # Rate limiting configuration
    rateLimit:
      # Enable rate limiting
      enabled: true
      # Requests per minute per user
      requestsPerMinute: 10
      # Burst allowance
      burstSize: 5
  
  # UI configuration
  ui:
    # Enable AI assistant in entity pages
    entityPageIntegration: true
    # Enable standalone AI assistant page
    standalonePage: true
    # Default suggestions for users
    suggestions:
      - "How do I deploy my service?"
      - "What are the monitoring best practices?"
      - "How do I create a new API?"
      - "What is the incident response process?"
    # Enable conversation history
    conversationHistory: true
    # Maximum conversation history length
    maxHistoryLength: 10

# OpsLevel configuration for service maturity tracking
opslevel:
  # OpsLevel API configuration
  api:
    # OpsLevel API base URL (use your self-hosted URL if applicable)
    baseUrl: ${OPSLEVEL_BASE_URL:-https://app.opslevel.com}
    # OpsLevel API token (requires administrator permissions)
    token: ${OPSLEVEL_API_TOKEN}
  
  # Service maturity configuration
  maturity:
    # Enable service maturity rubrics and automated quality checks
    rubrics:
      enabled: true
      # Default rubric to use for services
      defaultRubric: 'production-readiness'
      # Show rubric progress on entity pages
      showProgress: true
    
    # Checks configuration for service quality measurement
    checks:
      enabled: true
      # Show individual check results
      showResults: true
      # Enable automated quality checks
      automated: true
      # Check categories to display
      categories: ['security', 'reliability', 'performance', 'documentation', 'observability']
    
    # Production readiness dashboards and improvement tracking
    dashboards:
      enabled: true
      # Show service maturity dashboard
      showMaturityDashboard: true
      # Show improvement tracking
      showImprovementTracking: true
      # Enable maturity trends
      showTrends: true
  
  # Data synchronization configuration
  sync:
    # Enable automatic data sync from Backstage to OpsLevel
    enabled: true
    # Sync frequency (in minutes)
    frequency: 60
    # Entity types to sync
    entityTypes: ['Component', 'API', 'Resource', 'System']
    # Fields to sync from Backstage entities
    fields:
      - 'metadata.name'
      - 'metadata.description'
      - 'metadata.tags'
      - 'spec.owner'
      - 'spec.type'
      - 'spec.lifecycle'
  
  # UI configuration
  ui:
    # Enable maturity tab on entity pages
    entityPageIntegration: true
    # Show maturity scores in catalog
    showScoresInCatalog: true
    # Enable deep linking to OpsLevel
    enableDeepLinking: true
    # Default view for maturity page
    defaultView: 'overview'

# OpenDORA configuration for DORA metrics tracking
openDora:
  # OpenDORA API configuration
  api:
    # OpenDORA backend URL
    baseUrl: ${OPENDORA_API_URL:-http://localhost:8080}
    # Optional authentication
    # token: ${OPENDORA_API_TOKEN}
  
  # DORA metrics configuration
  metrics:
    # Deployment frequency tracking
    deploymentFrequency:
      enabled: true
      # Time periods for measurement
      periods: ['daily', 'weekly', 'monthly']
      # Default period
      defaultPeriod: 'weekly'
    
    # Lead time for changes tracking
    leadTime:
      enabled: true
      # Measurement from commit to deployment
      measureFrom: 'commit'
      # Time periods for measurement
      periods: ['daily', 'weekly', 'monthly']
      # Default period
      defaultPeriod: 'weekly'
    
    # Change failure rate tracking
    changeFailureRate:
      enabled: true
      # Failure detection methods
      detectionMethods: ['rollback', 'hotfix', 'incident']
      # Time periods for measurement
      periods: ['daily', 'weekly', 'monthly']
      # Default period
      defaultPeriod: 'weekly'
    
    # Mean time to recovery tracking
    meanTimeToRecovery:
      enabled: true
      # Recovery detection methods
      detectionMethods: ['deployment', 'incident_resolution']
      # Time periods for measurement
      periods: ['daily', 'weekly', 'monthly']
      # Default period
      defaultPeriod: 'weekly'
  
  # Team and service-level DORA dashboards
  dashboards:
    # Enable team-level dashboards
    teamLevel: true
    # Enable service-level dashboards
    serviceLevel: true
    # Enable organization-level dashboards
    organizationLevel: true
    # Default dashboard view
    defaultView: 'team'
  
  # Benchmarking configuration
  benchmarking:
    # Enable DORA benchmarking
    enabled: true
    # Benchmark categories (Elite, High, Medium, Low performers)
    categories: ['elite', 'high', 'medium', 'low']
    # Show benchmark comparisons
    showComparisons: true
    # Industry benchmarks
    industryBenchmarks: true
  
  # Data sources configuration
  dataSources:
    # GitHub integration for deployment and commit data
    github:
      enabled: true
      # GitHub token for API access
      token: ${GITHUB_TOKEN}
      # Organizations to track
      organizations: [${GITHUB_ORG}]
    
    # Argo CD integration for deployment data
    argocd:
      enabled: true
      # Argo CD API URL
      apiUrl: ${ARGOCD_API_URL}
      # Argo CD token
      token: ${ARGOCD_TOKEN}
    
    # Jira integration for incident tracking
    jira:
      enabled: ${JIRA_INTEGRATION_ENABLED:-false}
      # Jira server URL
      serverUrl: ${JIRA_SERVER_URL}
      # Jira credentials
      username: ${JIRA_USERNAME}
      apiToken: ${JIRA_API_TOKEN}
      # Project keys for incident tracking
      projectKeys: [${JIRA_PROJECT_KEYS}]
    
    # PagerDuty integration for incident tracking
    pagerduty:
      enabled: ${PAGERDUTY_INTEGRATION_ENABLED:-false}
      # PagerDuty API token
      token: ${PAGERDUTY_API_TOKEN}
      # Service IDs to track
      serviceIds: [${PAGERDUTY_SERVICE_IDS}]
  
  # UI configuration
  ui:
    # Enable DORA metrics on entity pages
    entityPageIntegration: true
    # Show metrics in catalog
    showMetricsInCatalog: true
    # Default time range for metrics
    defaultTimeRange: '30d'
    # Available time ranges
    timeRanges: ['7d', '30d', '90d', '180d', '365d']
    # Chart types for visualization
    chartTypes: ['line', 'bar', 'trend']
    # Default chart type
    defaultChartType: 'line'

# Cortex configuration for engineering effectiveness scorecards
cortex:
  # Cortex API configuration
  api:
    # Cortex API base URL
    baseUrl: ${CORTEX_BASE_URL:-https://api.getcortexapp.com}
    # Cortex API token
    token: ${CORTEX_API_TOKEN}
  
  # Engineering effectiveness metrics configuration
  metrics:
    # Developer experience metrics and team performance tracking
    developerExperience:
      enabled: true
      # Metrics to track
      trackingMetrics: ['deployment_frequency', 'lead_time', 'mttr', 'change_failure_rate']
      # Team performance indicators
      teamMetrics: ['velocity', 'quality', 'satisfaction']
    
    # Service quality and operational excellence scorecards
    serviceQuality:
      enabled: true
      # Quality dimensions
      dimensions: ['reliability', 'performance', 'security', 'maintainability']
      # Scoring methodology
      scoringMethod: 'weighted'
      # Weight distribution for dimensions
      weights:
        reliability: 30
        performance: 25
        security: 25
        maintainability: 20
    
    # Custom scorecards configuration
    customScorecards:
      enabled: true
      # Allow custom scorecard creation
      allowCustom: true
      # Predefined scorecard templates
      templates: ['production-readiness', 'security-compliance', 'operational-excellence']
  
  # Scorecards configuration
  scorecards:
    # Enable service quality scorecards
    serviceQuality: true
    # Enable operational excellence scorecards
    operationalExcellence: true
    # Enable security compliance scorecards
    securityCompliance: true
    # Enable custom scorecards
    custom: true
    # Default scorecard for new services
    defaultScorecard: 'production-readiness'
  
  # Data synchronization configuration
  sync:
    # Enable automatic data sync from Backstage to Cortex
    enabled: true
    # Sync frequency (in minutes)
    frequency: 30
    # Entity types to sync
    entityTypes: ['Component', 'API', 'Resource', 'System']
    # Sync direction (backstage-to-cortex, cortex-to-backstage, bidirectional)
    direction: 'bidirectional'
    # Fields to sync from Backstage entities
    fields:
      - 'metadata.name'
      - 'metadata.description'
      - 'metadata.tags'
      - 'spec.owner'
      - 'spec.type'
      - 'spec.lifecycle'
  
  # UI configuration
  ui:
    # Enable Cortex scorecards on entity pages
    entityPageIntegration: true
    # Show scorecards in catalog
    showScorecardsInCatalog: true
    # Enable deep linking to Cortex
    enableDeepLinking: true
    # Default view for scorecards
    defaultView: 'overview'
    # Show score trends
    showTrends: true
    # Enable scorecard comparisons
    enableComparisons: true

# FireHydrant configuration for incident management
firehydrant:
  # FireHydrant API configuration
  api:
    # FireHydrant API base URL
    baseUrl: ${FIREHYDRANT_BASE_URL:-https://api.firehydrant.io}
    # FireHydrant API token
    token: ${FIREHYDRANT_API_TOKEN}
  
  # Incident management configuration
  incidents:
    # Enable real-time incident visibility and management
    realTimeVisibility: true
    # Service-specific incident tracking
    serviceSpecificTracking: true
    # Incident status tracking
    statusTracking: ['open', 'investigating', 'identified', 'monitoring', 'resolved']
    # Incident severity levels
    severityLevels: ['sev1', 'sev2', 'sev3', 'sev4']
    # Default incident view
    defaultView: 'active'
  
  # Reliability metrics configuration
  reliability:
    # Enable reliability metrics tracking
    enabled: true
    # Metrics to track
    metrics: ['mttr', 'mtbf', 'incident_frequency', 'escalation_rate']
    # Time periods for metrics
    periods: ['7d', '30d', '90d']
    # Default period
    defaultPeriod: '30d'
  
  # Incident response workflows configuration
  workflows:
    # Enable incident response workflows
    enabled: true
    # Workflow automation
    automation: true
    # Runbook integration
    runbooks: true
    # Communication channels
    communicationChannels: ['slack', 'email', 'webhook']
  
  # Post-mortem integration configuration
  postMortems:
    # Enable post-mortem integration
    enabled: true
    # Automatic post-mortem creation
    autoCreate: true
    # Post-mortem templates
    templates: ['incident-review', 'root-cause-analysis', 'action-items']
    # Follow-up tracking
    followUpTracking: true
  
  # Service mapping configuration
  services:
    # Enable service mapping to FireHydrant services
    mapping: true
    # Automatic service discovery
    autoDiscovery: true
    # Service annotation for mapping
    annotation: 'firehydrant.io/service-id'
    # Default service mapping
    defaultMapping: 'backstage-entity-name'
  
  # UI configuration
  ui:
    # Enable FireHydrant integration on entity pages
    entityPageIntegration: true
    # Show incident status in catalog
    showIncidentStatusInCatalog: true
    # Enable deep linking to FireHydrant
    enableDeepLinking: true
    # Default incident dashboard view
    defaultDashboardView: 'overview'
    # Show incident trends
    showTrends: true
    # Enable incident notifications
    notifications: true

# Kubernetes GPT Analyzer configuration for AI troubleshooting
kubernetesGptAnalyzer:
  # AI configuration
  ai:
    # AI provider (openai, azure, bedrock)
    provider: 'openai'
    # OpenAI configuration
    openai:
      # OpenAI API key
      apiKey: ${OPENAI_API_KEY}
      # Model to use for analysis
      model: 'gpt-4'
      # API base URL (optional, for custom endpoints)
      # baseUrl: ${OPENAI_BASE_URL}
    # Azure OpenAI configuration (alternative)
    azure:
      # Azure OpenAI endpoint
      endpoint: ${AZURE_OPENAI_ENDPOINT}
      # Azure OpenAI API key
      apiKey: ${AZURE_OPENAI_API_KEY}
      # Deployment name
      deploymentName: ${AZURE_OPENAI_DEPLOYMENT_NAME}
    # AWS Bedrock configuration (alternative)
    bedrock:
      # AWS region
      region: ${AWS_REGION:-us-east-1}
      # Bedrock model ID
      modelId: 'anthropic.claude-3-sonnet-20240229-v1:0'
  
  # Kubernetes integration configuration
  kubernetes:
    # Enable automatic Kubernetes issue detection
    autoDetection: true
    # Kubernetes clusters to analyze
    clusters:
      - name: 'production'
        url: ${K8S_CLUSTER_URL}
        token: ${K8S_SERVICE_ACCOUNT_TOKEN}
      - name: 'staging'
        url: ${K8S_STAGING_CLUSTER_URL}
        token: ${K8S_STAGING_SERVICE_ACCOUNT_TOKEN}
    # Resource types to analyze
    resourceTypes: ['pods', 'deployments', 'services', 'ingresses', 'configmaps', 'secrets']
    # Namespaces to monitor
    namespaces: ['default', 'kube-system', 'production', 'staging']
  
  # Analysis configuration
  analysis:
    # Enable root cause analysis
    rootCauseAnalysis: true
    # Enable AI-generated troubleshooting suggestions
    troubleshootingSuggestions: true
    # Enable remediation steps generation
    remediationSteps: true
    # Analysis depth (basic, detailed, comprehensive)
    depth: 'detailed'
    # Include historical data in analysis
    includeHistoricalData: true
    # Historical data retention (days)
    historicalDataRetention: 30
  
  # Troubleshooting configuration
  troubleshooting:
    # Enable automatic issue categorization
    autoCategorization: true
    # Issue categories
    categories: ['resource-issues', 'networking', 'storage', 'security', 'performance']
    # Severity levels
    severityLevels: ['critical', 'high', 'medium', 'low']
    # Enable suggested fixes
    suggestedFixes: true
    # Enable runbook generation
    runbookGeneration: true
  
  # Monitoring integration
  monitoring:
    # Enable integration with monitoring systems
    enabled: true
    # Monitoring sources
    sources:
      # Prometheus integration
      prometheus:
        enabled: true
        url: ${PROMETHEUS_URL}
        # Optional authentication
        # username: ${PROMETHEUS_USERNAME}
        # password: ${PROMETHEUS_PASSWORD}
      # Grafana integration
      grafana:
        enabled: true
        url: ${GRAFANA_URL}
        token: ${GRAFANA_TOKEN}
      # Datadog integration
      datadog:
        enabled: true
        apiKey: ${DATADOG_API_KEY}
        appKey: ${DATADOG_APP_KEY}
  
  # UI configuration
  ui:
    # Enable Kubernetes AI analysis on entity pages
    entityPageIntegration: true
    # Show AI analysis in Kubernetes tab
    showInKubernetesTab: true
    # Enable real-time analysis
    realTimeAnalysis: true
    # Default analysis view
    defaultView: 'overview'
    # Show analysis history
    showHistory: true
    # Enable analysis sharing
    enableSharing: true
    # Analysis refresh interval (seconds)
    refreshInterval: 300
